<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Crispr Learning</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- Controller -->
  <script src="../assets/js/jquery.js"></script>
  <!-- <script src="../assets/js/player.min.js"></script> -->
  <script type="text/javascript" src="https://assets.mediadelivery.net/playerjs/player-0.1.0.min.js"></script>
  <script src="course.js"></script>



</head>
<body>
  <!-- Mobile Toggle Button -->
  <button class="toggle-sidebar" onclick="toggleSidebar()">☰</button>

  <div class="container">
    
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
      <h3 style="color: #ffb706" id="sidebarHeader"></h3>
      <h2 style="color: #006073" id="sidebarTitle"></h2>
      <!-- <div class="rating"> ★ ★ ★ ★ ★ <span>9.9 / 10 (2 reviews)</span> </div> -->
      <div class="mentor" id="mentorTile"></div>
      <ul class="chapter-list" id="partsList"></ul>
    </div>

    <!-- Content Area -->
    <div class="content">
      <h3 id="contentTitle"></h3>
      <p class="subtext" id="contentTitleSub"></p>

      <div class="video-wrapper">



<!-- Buttons for video playback control -->
<iframe id="bunny-stream-embed" src="https://iframe.mediadelivery.net/embed/197133/dc48a09e-d9bb-420a-83d7-72dc2304c034" width="720" height="400" frameborder="0" allow="autoplay"></iframe>



      </div>

    </div>
  
  </div>


  <script>


document.addEventListener('DOMContentLoaded', function() {

// Create a PlayerJS instance with the 'bunny-stream-embed' element
const player = new playerjs.Player('bunny-stream-embed');

// Initialize variables to store total duration and last progress point
let totalDuration = 0;
let lastProgress = 0;

// Event handler when the player is ready
player.on('ready', () => {
    console.log('Ready');
});

// Event handler when the video is played
player.on('play', () => {
    console.log('Video is playing');
});

// Get the total duration of the video and start playing
player.getDuration((duration) => {
    totalDuration = duration;
});

// Event handler for time updates when the player is playing
player.on('timeupdate', (timingData) => {

// Get current seconds
const currentTime = timingData.seconds;

// Calculate progress percentage and round to the nearest 25%
const progressPercentage = (currentTime / timingData.duration) * 100;
const progressRounded = Math.floor(progressPercentage / 25) * 25;

// Log the progress percentage
console.log('Progress Percentage: ' + Math.floor(progressPercentage) + "%");

        
});

});


  </script>


</body>
</html>